<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width">
    <title>Event Listeners </title>

  <style> /* CSS comment */
    body { max-width: 440px; }
    #url { width: 190px; }
    span, #url { color: blue; }
  </style>
</head>

<body>   <!-- HTML comment: Modify all items marked xxx -->

  <h3 id=title title="Event listeners"></h3>

  <h3>Battery Status</h3>
  <p><span id=charging> ? </span></p> 

  <p>Battery Level: <span id=level>?</span></p> 

  <h3>Online Status</h3>
  <span id = "on_of"> ? </span>

  <h3>Keyboard</h3>
  <span id = "key"> ? </span>

  <hr />
  <b>Sample code</b>
<pre id=sample>This text is not shown. Why?</pre>

<hr />

<script>
"use strict";

function check() {
    fetch(url.value).then(r => 
      resp.innerText = r.ok? 'OK' : 'Not found'
    ).catch(e => resp.innerText = e)
}
function init() {
    navigator.getBattery().then(b => {
        b.onchargingchange = () => charging.innerText = 
            (b.charging ?  "Charging" : "Discharging")
        b.onlevelchange = () => level.innerText = 100 * b.level 
        + '%'

      })
    ononline = () => on_of.innerText = "online"
    onoffline = () => on_of.innerText = "offline"
    onkeydown = (event) => key.innerText = event.key
    onkeyup = (event) => key.innerText = event.key
    check()
}
    title.innerText = document.title;
    sample.innerText = init+'\n'+check;
    init();
</script>

</body>
</html>
